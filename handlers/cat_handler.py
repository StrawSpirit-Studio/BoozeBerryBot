import requests
import random
from config import THE_CAT_API_KEY

# Функція для отримання випадкової картинки кота
def get_random_cat_image():
    url = "https://api.thecatapi.com/v1/images/search"
    headers = {
        "x-api-key": THE_CAT_API_KEY  # Замінити на свій API ключ
    }
    response = requests.get(url, headers=headers)
    if response.status_code == 200:
        data = response.json()
        return data[0]['url']
    return None

# Генерація випадкового підпису
def generate_random_caption():
    captions = [
        "😻 Мяу! 🐾 Ось твій котик: 🐱✨",
        "🐱 Цей котик прямо зараз шукає тебе! 😺❤️",
        "🐾 Пухнастий друг для твого серця! 💖",
        "🐾 Пухнастий друг, що завжди поруч! 💕",
        "😽 Знайшов тобі чудового котика! 🐈",
        "✨ Ось він, милий і пухнастий котик! 🐾",
        "🐱 Це ідеальний кіт для тебе! 😻",
        "💫 Мяу! Цей кіт хоче, щоб ти його полюбив! 🐱",
        "🏠 Хочеш забрати його додому? 🏡",
        "😻 Шукаєш котика? Ось він! 🐾",
        "🐈 Увага! Наймиліший кіт вже тут! 😻",
        "🐱 Мяу! Цей котик знає, як розвеселити! 🎉",
        "😺 Що може бути кращим за котика? 🐱",
        "✨ Цей кіт — твій новий найкращий друг! 🐾",
        "🐱 Ідеальний кіт для кожного! 😻",
        "🏡 Потрібен котик? Ось він! 🐾",
        "💖 Щоб серце співало — потрібен кіт! 🐱",
        "🌟 Кіт у всій своїй красі! 😺",
        "🐱 Хочеш котика? Ось він! 🐾",
        "🐾 Котики роблять наше життя кращим! 💖",
        "😽 Тільки поглянь на цього малюка! 🐱",
        "💫 Для тебе — кіт, який додасть радості! 🐾",
        "😻 Пухнастий друг твоєї душі! 💕",
        "🐱 Ось ідеальний кіт для тебе! 🐾",
        "🐾 Маленький пухнастик чекає на тебе! 😽",
        "💖 Цей кіт приносить щастя! 🐱",
        "✨ Привіт від котика! 😻",
        "🐱 Кіт на варті твого настрою! 🐾",
        "🐾 Мяу! Ти не можеш пройти повз цього котика! 😻",
        "😺 Справжній кіт для справжнього фаната! 🐱",
        "🐱 Це твій новий пухнастий друг! 😻",
        "🏡 Твій майбутній домашній улюбленець! 🐾",
        "🐱 Мяу! Цей котик хоче уваги! 🐾",
        "🐾 Пухнасті друзі — найкращі друзі! 😺",
        "😻 Ось він! Чарівний котик, який завжди поряд! 🐱",
        "✨ Маленьке чудо в вигляді котика! 🐾",
        "🐱 Відкрий для себе цього котика! 🐾",
        "🐾 Коти — найкраща терапія для душі! 😻",
        "😽 Цей кіт дарує радість! 🐱",
        "💫 Хочеш щастя? Ось воно! 🐾",
        "🐱 Котик, який підкорює серце! 😻",
        "🐾 Привіт від цього милого котика! 🐱",
        "✨ Чудо-кіт для чудової людини! 😺",
        "😻 Ось і він — найкращий котик у світі! 🐱",
        "🐱 Ти не можеш сказати \"ні\" цьому котику! 😻",
        "🐾 Немає нічого кращого за котика! 🐱",
        "😺 Твій новий пухнастий друг уже тут! 🐾",
        "💖 Коти — це завжди добре! 🐱",
        "🎭 Котик-актор у головній ролі! 🎬",
        "🌈 Райдужний настрій від котика! ✨",
        "🎪 Цирковий артист готовий дивувати! 🎭",
        "🌺 Квітковий котик для твоєї радості! 🌸",
        "🎨 Шедевр котячого мистецтва! 🖼️",
        "🌙 Зоряний охоронець твого спокою! ⭐",
        "🎵 Співаючий котик для тебе! 🎶",
        "🌞 Сонячний промінчик у котячому хутрі! ☀️",
        "🎪 Головна зірка котячого шоу! 🌟",
        "🌸 Ніжний, як весняний цвіт! 🌺",
        "🎭 Майстер перевтілень у світі котів! 🎬",
        "🌈 Котик, що дарує веселку емоцій! 🌟",
        "🎪 Акробат котячого світу! 🎭",
        "🌺 Квітучий котик весни! 🌸",
        "🎨 Художній котик-натхненник! 🖼️",
        "🌙 Місячний кіт твоїх мрій! ⭐",
        "🎵 Мелодія котячого щастя! 🎶",
        "🌞 Промінчик котячої радості! ☀️",
        "🎪 Зірковий кіт естради! 🌟",
        "🌸 Ніжність у котячому образі! 🌺",
        "🎭 Котик-фокусник твого серця! 🎩",
        "🌈 Чарівний кіт казкового світу! ✨",
        "🎪 Майстер котячих трюків! 🎭",
        "🌺 Котик-квітка твого саду! 🌸",
        "🎨 Палітра котячих емоцій! 🖼️",
        "🌙 Нічний котик-охоронець! ⭐",
        "🎵 Котяча серенада для тебе! 🎶",
        "🌞 Сонячний котик твого дня! ☀️",
        "🎪 Котик-артист на біс! 🌟",
        "🌸 Весняний котик у цвіту! 🌺",
        "🎭 Котик-маг твого щастя! ✨",
        "🌈 Веселковий настрій від кота! 🌟",
        "🎪 Цирковий котик-віртуоз! 🎭",
        "🌺 Котик-букет позитиву! 🌸",
        "🎨 Картина котячої грації! 🖼️",
        "🌙 Зоряний кіт твоєї ночі! ⭐",
        "🎵 Котяча пісня кохання! 🎶",
        "🌞 Сонячний кіт удачі! ☀️",
        "🎪 Котик-віртуоз настрою! 🌟",
        "🌸 Ніжний котик весни! 🌺",
        "🎭 Котячий талант у дії! 🎬",
        "🌈 Різнобарвний котик щастя! ✨",
        "🎪 Майстер котячого жанру! 🎭",
        "🌺 Котик-квітка щастя! 🌸",
        "🎨 Котяче мистецтво життя! 🖼️",
        "🌙 Місячний охоронець снів! ⭐",
        "🎵 Мурчання для душі! 🎶",
        "🌞 Сонячний промінь у хутрі! ☀️",
        "🎪 Зірка котячої сцени! 🌟",
        "🌸 Весняний подих котика! 🌺",
        "🎭 Котячий талант року! 🏆",
        "🌈 Веселка котячих емоцій! 🌟",
        "🎪 Віртуоз котячого світу! 🎭",
        "🌺 Котик-символ ніжності! 🌸",
        "🎨 Котяча палітра щастя! 🖼️",
        "🌙 Нічна зірка у хутрі! ⭐",
        "🎵 Котяча симфонія радості! 🎶",
        "🌞 Сонячний котик-чарівник! ☀️",
        "🎪 Майстер котячого шарму! 🌟",
        "🌸 Квітучий котик радості! 🌺",
        "🎭 Котячий оскар твого дня! 🏆",
        "🌈 Чарівний котик удачі! ✨",
        "🌺 Котяча магія кохання! 💕"
    ]
    return random.choice(captions)

# Хендлер для відправки картинки кота з випадковим підписом
async def cat_handler(client, message):
    image_url = get_random_cat_image()
    if image_url:
        caption = generate_random_caption()
        await message.delete()
        await message.reply_photo(image_url, caption=caption)
    else:
        await message.reply("Котика не знайдено :(")