import requests
import random
from config import THE_CAT_API_KEY

# ะคัะฝะบััั ะดะปั ะพััะธะผะฐะฝะฝั ะฒะธะฟะฐะดะบะพะฒะพั ะบะฐััะธะฝะบะธ ะบะพัะฐ
def get_random_cat_image():
    url = "https://api.thecatapi.com/v1/images/search"
    headers = {
        "x-api-key": THE_CAT_API_KEY  # ะะฐะผัะฝะธัะธ ะฝะฐ ัะฒัะน API ะบะปัั
    }
    response = requests.get(url, headers=headers)
    if response.status_code == 200:
        data = response.json()
        return data[0]['url']
    return None

# ะะตะฝะตัะฐััั ะฒะธะฟะฐะดะบะพะฒะพะณะพ ะฟัะดะฟะธัั
def generate_random_caption():
    captions = [
        "๐ป ะัั! ๐พ ะัั ัะฒัะน ะบะพัะธะบ: ๐ฑโจ",
        "๐ฑ ะฆะตะน ะบะพัะธะบ ะฟััะผะพ ะทะฐัะฐะท ััะบะฐั ัะตะฑะต! ๐บโค๏ธ",
        "๐พ ะััะฝะฐััะธะน ะดััะณ ะดะปั ัะฒะพะณะพ ัะตััั! ๐",
        "๐พ ะััะฝะฐััะธะน ะดััะณ, ัะพ ะทะฐะฒะถะดะธ ะฟะพััั! ๐",
        "๐ฝ ะะฝะฐะนัะพะฒ ัะพะฑั ััะดะพะฒะพะณะพ ะบะพัะธะบะฐ! ๐",
        "โจ ะัั ะฒัะฝ, ะผะธะปะธะน ั ะฟััะฝะฐััะธะน ะบะพัะธะบ! ๐พ",
        "๐ฑ ะฆะต ัะดะตะฐะปัะฝะธะน ะบัั ะดะปั ัะตะฑะต! ๐ป",
        "๐ซ ะัั! ะฆะตะน ะบัั ัะพัะต, ัะพะฑ ัะธ ะนะพะณะพ ะฟะพะปัะฑะธะฒ! ๐ฑ",
        "๐ ะฅะพัะตั ะทะฐะฑัะฐัะธ ะนะพะณะพ ะดะพะดะพะผั? ๐ก",
        "๐ป ะจัะบะฐัั ะบะพัะธะบะฐ? ะัั ะฒัะฝ! ๐พ",
        "๐ ะฃะฒะฐะณะฐ! ะะฐะนะผะธะปััะธะน ะบัั ะฒะถะต ััั! ๐ป",
        "๐ฑ ะัั! ะฆะตะน ะบะพัะธะบ ะทะฝะฐั, ัะบ ัะพะทะฒะตัะตะปะธัะธ! ๐",
        "๐บ ะฉะพ ะผะพะถะต ะฑััะธ ะบัะฐัะธะผ ะทะฐ ะบะพัะธะบะฐ? ๐ฑ",
        "โจ ะฆะตะน ะบัั โ ัะฒัะน ะฝะพะฒะธะน ะฝะฐะนะบัะฐัะธะน ะดััะณ! ๐พ",
        "๐ฑ ะะดะตะฐะปัะฝะธะน ะบัั ะดะปั ะบะพะถะฝะพะณะพ! ๐ป",
        "๐ก ะะพัััะฑะตะฝ ะบะพัะธะบ? ะัั ะฒัะฝ! ๐พ",
        "๐ ะฉะพะฑ ัะตััะต ัะฟัะฒะฐะปะพ โ ะฟะพัััะฑะตะฝ ะบัั! ๐ฑ",
        "๐ ะัั ั ะฒััะน ัะฒะพัะน ะบัะฐัั! ๐บ",
        "๐ฑ ะฅะพัะตั ะบะพัะธะบะฐ? ะัั ะฒัะฝ! ๐พ",
        "๐พ ะะพัะธะบะธ ัะพะฑะปััั ะฝะฐัะต ะถะธััั ะบัะฐัะธะผ! ๐",
        "๐ฝ ะขัะปัะบะธ ะฟะพะณะปัะฝั ะฝะฐ ััะพะณะพ ะผะฐะปัะบะฐ! ๐ฑ",
        "๐ซ ะะปั ัะตะฑะต โ ะบัั, ัะบะธะน ะดะพะดะฐััั ัะฐะดะพััั! ๐พ",
        "๐ป ะััะฝะฐััะธะน ะดััะณ ัะฒะพัั ะดััั! ๐",
        "๐ฑ ะัั ัะดะตะฐะปัะฝะธะน ะบัั ะดะปั ัะตะฑะต! ๐พ",
        "๐พ ะะฐะปะตะฝัะบะธะน ะฟััะฝะฐััะธะบ ัะตะบะฐั ะฝะฐ ัะตะฑะต! ๐ฝ",
        "๐ ะฆะตะน ะบัั ะฟัะธะฝะพัะธัั ัะฐััั! ๐ฑ",
        "โจ ะัะธะฒัั ะฒัะด ะบะพัะธะบะฐ! ๐ป",
        "๐ฑ ะัั ะฝะฐ ะฒะฐััั ัะฒะพะณะพ ะฝะฐัััะพั! ๐พ",
        "๐พ ะัั! ะขะธ ะฝะต ะผะพะถะตั ะฟัะพะนัะธ ะฟะพะฒะท ััะพะณะพ ะบะพัะธะบะฐ! ๐ป",
        "๐บ ะกะฟัะฐะฒะถะฝัะน ะบัั ะดะปั ัะฟัะฐะฒะถะฝัะพะณะพ ัะฐะฝะฐัะฐ! ๐ฑ",
        "๐ฑ ะฆะต ัะฒัะน ะฝะพะฒะธะน ะฟััะฝะฐััะธะน ะดััะณ! ๐ป",
        "๐ก ะขะฒัะน ะผะฐะนะฑััะฝัะน ะดะพะผะฐัะฝัะน ัะปัะฑะปะตะฝะตัั! ๐พ",
        "๐ฑ ะัั! ะฆะตะน ะบะพัะธะบ ัะพัะต ัะฒะฐะณะธ! ๐พ",
        "๐พ ะััะฝะฐััั ะดััะทั โ ะฝะฐะนะบัะฐัั ะดััะทั! ๐บ",
        "๐ป ะัั ะฒัะฝ! ะงะฐััะฒะฝะธะน ะบะพัะธะบ, ัะบะธะน ะทะฐะฒะถะดะธ ะฟะพััะด! ๐ฑ",
        "โจ ะะฐะปะตะฝัะบะต ััะดะพ ะฒ ะฒะธะณะปัะดั ะบะพัะธะบะฐ! ๐พ",
        "๐ฑ ะัะดะบัะธะน ะดะปั ัะตะฑะต ััะพะณะพ ะบะพัะธะบะฐ! ๐พ",
        "๐พ ะะพัะธ โ ะฝะฐะนะบัะฐัะฐ ัะตัะฐะฟัั ะดะปั ะดััั! ๐ป",
        "๐ฝ ะฆะตะน ะบัั ะดะฐััั ัะฐะดัััั! ๐ฑ",
        "๐ซ ะฅะพัะตั ัะฐััั? ะัั ะฒะพะฝะพ! ๐พ",
        "๐ฑ ะะพัะธะบ, ัะบะธะน ะฟัะดะบะพััั ัะตััะต! ๐ป",
        "๐พ ะัะธะฒัั ะฒัะด ััะพะณะพ ะผะธะปะพะณะพ ะบะพัะธะบะฐ! ๐ฑ",
        "โจ ะงัะดะพ-ะบัั ะดะปั ััะดะพะฒะพั ะปัะดะธะฝะธ! ๐บ",
        "๐ป ะัั ั ะฒัะฝ โ ะฝะฐะนะบัะฐัะธะน ะบะพัะธะบ ั ัะฒััั! ๐ฑ",
        "๐ฑ ะขะธ ะฝะต ะผะพะถะตั ัะบะฐะทะฐัะธ \"ะฝั\" ััะพะผั ะบะพัะธะบั! ๐ป",
        "๐พ ะะตะผะฐั ะฝััะพะณะพ ะบัะฐัะพะณะพ ะทะฐ ะบะพัะธะบะฐ! ๐ฑ",
        "๐บ ะขะฒัะน ะฝะพะฒะธะน ะฟััะฝะฐััะธะน ะดััะณ ัะถะต ััั! ๐พ",
        "๐ ะะพัะธ โ ัะต ะทะฐะฒะถะดะธ ะดะพะฑัะต! ๐ฑ",
        "๐ญ ะะพัะธะบ-ะฐะบัะพั ั ะณะพะปะพะฒะฝัะน ัะพะปั! ๐ฌ",
        "๐ ะะฐะนะดัะถะฝะธะน ะฝะฐััััะน ะฒัะด ะบะพัะธะบะฐ! โจ",
        "๐ช ะฆะธัะบะพะฒะธะน ะฐััะธัั ะณะพัะพะฒะธะน ะดะธะฒัะฒะฐัะธ! ๐ญ",
        "๐บ ะะฒััะบะพะฒะธะน ะบะพัะธะบ ะดะปั ัะฒะพัั ัะฐะดะพััั! ๐ธ",
        "๐จ ะจะตะดะตะฒั ะบะพัััะพะณะพ ะผะธััะตััะฒะฐ! ๐ผ๏ธ",
        "๐ ะะพััะฝะธะน ะพัะพัะพะฝะตัั ัะฒะพะณะพ ัะฟะพะบะพั! โญ",
        "๐ต ะกะฟัะฒะฐััะธะน ะบะพัะธะบ ะดะปั ัะตะฑะต! ๐ถ",
        "๐ ะกะพะฝััะฝะธะน ะฟัะพะผัะฝัะธะบ ั ะบะพัััะพะผั ััััั! โ๏ธ",
        "๐ช ะะพะปะพะฒะฝะฐ ะทััะบะฐ ะบะพัััะพะณะพ ัะพั! ๐",
        "๐ธ ะัะถะฝะธะน, ัะบ ะฒะตัะฝัะฝะธะน ัะฒัั! ๐บ",
        "๐ญ ะะฐะนััะตั ะฟะตัะตะฒััะปะตะฝั ั ัะฒััั ะบะพััะฒ! ๐ฌ",
        "๐ ะะพัะธะบ, ัะพ ะดะฐััั ะฒะตัะตะปะบั ะตะผะพััะน! ๐",
        "๐ช ะะบัะพะฑะฐั ะบะพัััะพะณะพ ัะฒััั! ๐ญ",
        "๐บ ะะฒััััะธะน ะบะพัะธะบ ะฒะตัะฝะธ! ๐ธ",
        "๐จ ะฅัะดะพะถะฝัะน ะบะพัะธะบ-ะฝะฐััะฝะตะฝะฝะธะบ! ๐ผ๏ธ",
        "๐ ะััััะฝะธะน ะบัั ัะฒะพัั ะผััะน! โญ",
        "๐ต ะะตะปะพะดัั ะบะพัััะพะณะพ ัะฐััั! ๐ถ",
        "๐ ะัะพะผัะฝัะธะบ ะบะพัััะพั ัะฐะดะพััั! โ๏ธ",
        "๐ช ะััะบะพะฒะธะน ะบัั ะตัััะฐะดะธ! ๐",
        "๐ธ ะัะถะฝัััั ั ะบะพัััะพะผั ะพะฑัะฐะทั! ๐บ",
        "๐ญ ะะพัะธะบ-ัะพะบััะฝะธะบ ัะฒะพะณะพ ัะตััั! ๐ฉ",
        "๐ ะงะฐััะฒะฝะธะน ะบัั ะบะฐะทะบะพะฒะพะณะพ ัะฒััั! โจ",
        "๐ช ะะฐะนััะตั ะบะพัััะธั ัััะบัะฒ! ๐ญ",
        "๐บ ะะพัะธะบ-ะบะฒััะบะฐ ัะฒะพะณะพ ัะฐะดั! ๐ธ",
        "๐จ ะะฐะปัััะฐ ะบะพัััะธั ะตะผะพััะน! ๐ผ๏ธ",
        "๐ ะััะฝะธะน ะบะพัะธะบ-ะพัะพัะพะฝะตัั! โญ",
        "๐ต ะะพัััะฐ ัะตัะตะฝะฐะดะฐ ะดะปั ัะตะฑะต! ๐ถ",
        "๐ ะกะพะฝััะฝะธะน ะบะพัะธะบ ัะฒะพะณะพ ะดะฝั! โ๏ธ",
        "๐ช ะะพัะธะบ-ะฐััะธัั ะฝะฐ ะฑัั! ๐",
        "๐ธ ะะตัะฝัะฝะธะน ะบะพัะธะบ ั ัะฒััั! ๐บ",
        "๐ญ ะะพัะธะบ-ะผะฐะณ ัะฒะพะณะพ ัะฐััั! โจ",
        "๐ ะะตัะตะปะบะพะฒะธะน ะฝะฐััััะน ะฒัะด ะบะพัะฐ! ๐",
        "๐ช ะฆะธัะบะพะฒะธะน ะบะพัะธะบ-ะฒััััะพะท! ๐ญ",
        "๐บ ะะพัะธะบ-ะฑัะบะตั ะฟะพะทะธัะธะฒั! ๐ธ",
        "๐จ ะะฐััะธะฝะฐ ะบะพัััะพั ะณัะฐััั! ๐ผ๏ธ",
        "๐ ะะพััะฝะธะน ะบัั ัะฒะพัั ะฝะพัั! โญ",
        "๐ต ะะพัััะฐ ะฟััะฝั ะบะพัะฐะฝะฝั! ๐ถ",
        "๐ ะกะพะฝััะฝะธะน ะบัั ัะดะฐัั! โ๏ธ",
        "๐ช ะะพัะธะบ-ะฒััััะพะท ะฝะฐัััะพั! ๐",
        "๐ธ ะัะถะฝะธะน ะบะพัะธะบ ะฒะตัะฝะธ! ๐บ",
        "๐ญ ะะพัััะธะน ัะฐะปะฐะฝั ั ะดัั! ๐ฌ",
        "๐ ะัะทะฝะพะฑะฐัะฒะฝะธะน ะบะพัะธะบ ัะฐััั! โจ",
        "๐ช ะะฐะนััะตั ะบะพัััะพะณะพ ะถะฐะฝัั! ๐ญ",
        "๐บ ะะพัะธะบ-ะบะฒััะบะฐ ัะฐััั! ๐ธ",
        "๐จ ะะพัััะต ะผะธััะตััะฒะพ ะถะธััั! ๐ผ๏ธ",
        "๐ ะััััะฝะธะน ะพัะพัะพะฝะตัั ัะฝัะฒ! โญ",
        "๐ต ะัััะฐะฝะฝั ะดะปั ะดััั! ๐ถ",
        "๐ ะกะพะฝััะฝะธะน ะฟัะพะผัะฝั ั ััััั! โ๏ธ",
        "๐ช ะััะบะฐ ะบะพัััะพั ััะตะฝะธ! ๐",
        "๐ธ ะะตัะฝัะฝะธะน ะฟะพะดะธั ะบะพัะธะบะฐ! ๐บ",
        "๐ญ ะะพัััะธะน ัะฐะปะฐะฝั ัะพะบั! ๐",
        "๐ ะะตัะตะปะบะฐ ะบะพัััะธั ะตะผะพััะน! ๐",
        "๐ช ะััััะพะท ะบะพัััะพะณะพ ัะฒััั! ๐ญ",
        "๐บ ะะพัะธะบ-ัะธะผะฒะพะป ะฝัะถะฝะพััั! ๐ธ",
        "๐จ ะะพัััะฐ ะฟะฐะปัััะฐ ัะฐััั! ๐ผ๏ธ",
        "๐ ะััะฝะฐ ะทััะบะฐ ั ััััั! โญ",
        "๐ต ะะพัััะฐ ัะธะผัะพะฝัั ัะฐะดะพััั! ๐ถ",
        "๐ ะกะพะฝััะฝะธะน ะบะพัะธะบ-ัะฐััะฒะฝะธะบ! โ๏ธ",
        "๐ช ะะฐะนััะตั ะบะพัััะพะณะพ ัะฐัะผั! ๐",
        "๐ธ ะะฒััััะธะน ะบะพัะธะบ ัะฐะดะพััั! ๐บ",
        "๐ญ ะะพัััะธะน ะพัะบะฐั ัะฒะพะณะพ ะดะฝั! ๐",
        "๐ ะงะฐััะฒะฝะธะน ะบะพัะธะบ ัะดะฐัั! โจ",
        "๐บ ะะพัััะฐ ะผะฐะณัั ะบะพัะฐะฝะฝั! ๐"
    ]
    return random.choice(captions)

# ะฅะตะฝะดะปะตั ะดะปั ะฒัะดะฟัะฐะฒะบะธ ะบะฐััะธะฝะบะธ ะบะพัะฐ ะท ะฒะธะฟะฐะดะบะพะฒะธะผ ะฟัะดะฟะธัะพะผ
async def cat_handler(client, message):
    image_url = get_random_cat_image()
    if image_url:
        caption = generate_random_caption()
        await message.delete()
        await message.reply_photo(image_url, caption=caption)
    else:
        await message.reply("ะะพัะธะบะฐ ะฝะต ะทะฝะฐะนะดะตะฝะพ :(")